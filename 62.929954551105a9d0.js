"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[62],{62:(J,Z,s)=>{s.r(Z),s.d(Z,{default:()=>S});var c=s(6895),l=s(2876),t=s(529),h=s(2340),C=s(4333),T=s(8492),e=s(1571),b=s(9061),x=s(9922);function U(n,u){1&n&&(e.TgZ(0,"div",21),e._uU(1," Veuillez completer les champs! ! "),e.qZA())}function y(n,u){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,U,2,0,"div",20),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.error)}}function M(n,u){1&n&&(e.TgZ(0,"div",22)(1,"button",23),e._UZ(2,"span",24),e._uU(3," Chargement... "),e.qZA()())}let i=(()=>{class n{constructor(o,r){this.activeModal=o,this.dataService=r,this.loading=!1,this.error=!1}ngOnInit(){null!=localStorage.getItem("user")&&(this.token=JSON.parse(localStorage.getItem("user")).token)}submitForm(o,r,_,f){this.loading=!0;var m={tablename:"journal",date:o,designation:r,entree:Number(_),sortie:Number(f)};console.log("journal"+m);let A=new t.WM({Authorization:"Bearer "+this.token});""!=m.designation&&""!=m.date?(this.error=!1,this.dataService.addData(`${h.N.baseUrl}/object`,m,{headers:A}),this.loading=!1,this.dataService.fetchData(`${h.N.baseUrl}/journals`,{headers:A}),this.activeModal.close()):(this.error=!0,this.loading=!1)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(b.Kz),e.Y36(x.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-modal"]],inputs:{voiture:"voiture"},standalone:!0,features:[e.jDz],decls:38,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","name"],["type","date","id","name",1,"form-control"],["date",""],["type","text","id","designation",1,"form-control"],["designation",""],["type","text","value","0","id","entrer",1,"form-control"],["entrer",""],["type","text","value","0","id","sortie",1,"form-control"],["sortie",""],["class","form-group text-start mb-4",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"form-group","text-start","mb-4"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-center"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(o,r){if(1&o){const _=e.EpF();e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Saisie journal"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return r.activeModal.dismiss("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4)(7,"form")(8,"div",5)(9,"label",6),e._uU(10,"Date"),e.qZA(),e._UZ(11,"br")(12,"input",7,8),e.qZA(),e.TgZ(14,"div",5)(15,"label",6),e._uU(16,"Designation"),e.qZA(),e._UZ(17,"br")(18,"input",9,10),e.qZA(),e.TgZ(20,"div",5)(21,"label",6),e._uU(22,"Entrer"),e.qZA(),e._UZ(23,"br")(24,"input",11,12),e.qZA(),e.TgZ(26,"div",5)(27,"label",6),e._uU(28,"Sortie"),e.qZA(),e._UZ(29,"br")(30,"input",13,14),e.qZA(),e._UZ(32,"br"),e.YNc(33,y,2,1,"div",15),e.YNc(34,M,4,0,"div",16),e.qZA()(),e.TgZ(35,"div",17)(36,"button",18),e.NdJ("click",function(){e.CHM(_);const m=e.MAs(13),A=e.MAs(19),I=e.MAs(25),q=e.MAs(31);return e.KtG(r.submitForm(m.value,A.value,I.value,q.value))}),e._uU(37,"Valider"),e.qZA()()}2&o&&(e.xp6(33),e.Q6J("ngIf",!r.loading),e.xp6(1),e.Q6J("ngIf",r.loading))},dependencies:[c.ez,c.O5],encapsulation:2}),n})();var g=s(4631);function a(n,u){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const o=u.$implicit;e.xp6(2),e.Oqu(o.designation),e.xp6(2),e.Oqu(e.xi3(5,4,o.date,"dd-MM-YYYY")),e.xp6(3),e.Oqu(o.entree),e.xp6(2),e.Oqu(o.sortie)}}const d=function(n){return{itemsPerPage:5,currentPage:n}};function p(n,u){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,a,10,7,"tr",13),e.ALo(2,"paginate"),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o.journal,e.VKq(4,d,o.p)))}}const v=function(){return{display:"flex","justify-content":"space-between"}};let S=(()=>{class n{constructor(o,r,_){this.route=o,this.modalService=r,this.dataService=_,this.currentDate=new Date}ngOnInit(){null!=localStorage.getItem("user")&&(this.token=JSON.parse(localStorage.getItem("user")).token),this.fetchData(),this.dataService.data$.subscribe(o=>{this.journal=o})}fetchData(){const o=new t.WM({Authorization:"Bearer "+this.token});this.dataService.fetchData(`${h.N.baseUrl}/journals`,{headers:o})}openModal(){this.modalService.open(i)}search(o){console.log(o),0==o.length?this.dataService.data$.subscribe(r=>{this.journal=r}):this.journal=this.journal.filter(r=>r.designation.toLowerCase().includes(o.toLowerCase()))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(T.gz),e.Y36(b.FF),e.Y36(x.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tbl-bootstrap"]],standalone:!0,features:[e.jDz],decls:25,vars:4,consts:[[1,"row"],[1,"col-xl-12"],["cardTitle","Liste journal","blockClass","table-border-style",3,"options"],[1,"container"],[1,"box",3,"ngStyle"],[1,"box-part"],["type","text","id","icon-search","placeholder","search . . ",1,"form-control","mb-4",3,"keyup"],["indice",""],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngIf"],[3,"pageChange"],[4,"ngFor","ngForOf"]],template:function(o,r){if(1&o){const _=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6,7),e.NdJ("keyup",function(){e.CHM(_);const m=e.MAs(7);return e.KtG(r.search(m.value))}),e.qZA()(),e.TgZ(8,"div",5)(9,"button",8),e.NdJ("click",function(){return r.openModal()}),e._uU(10,"Saisie journal"),e.qZA()()()(),e.TgZ(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),e._uU(16,"Designation"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Date"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Entrer"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Sortie"),e.qZA()()(),e.YNc(23,p,3,6,"tbody",11),e.TgZ(24,"pagination-controls",12),e.NdJ("pageChange",function(m){return r.p=m}),e.qZA()()()()()()}2&o&&(e.xp6(2),e.Q6J("options",!1),e.xp6(2),e.Q6J("ngStyle",e.DdM(3,v)),e.xp6(19),e.Q6J("ngIf",null!=r.journal))},dependencies:[c.ez,c.sg,c.O5,c.PC,c.uU,T.Bz,l.m,g.A,C.JX,C._s,C.LS]}),n})()},4631:(J,Z,s)=>{s.d(Z,{A:()=>M});var c=s(9061),l=s(7340),t=s(1571),h=s(6895);function C(i,g){if(1&i&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Oqu(a.cardTitle)}}function T(i,g){if(1&i){const a=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"button",10),t._UZ(3,"i",11),t.qZA(),t.TgZ(4,"ul",12)(5,"li",13),t.NdJ("click",function(){t.CHM(a);const p=t.oxw(2),v=t.MAs(1);return t.KtG(p.fullCardToggle(v,"",!0))}),t.TgZ(6,"a",14)(7,"span"),t._UZ(8,"i",15),t._uU(9),t.qZA()()(),t.TgZ(10,"li",16),t.NdJ("click",function(p){t.CHM(a);const v=t.oxw(2);return t.KtG(v.collapsedCardToggle(p))}),t.TgZ(11,"a",14)(12,"span"),t._UZ(13,"i",15),t._uU(14),t.qZA(),t.TgZ(15,"span",17),t._UZ(16,"i",18),t.qZA()()(),t.TgZ(17,"li",19),t.NdJ("click",function(){t.CHM(a);const p=t.oxw(2);return t.KtG(p.cardRefresh())}),t.TgZ(18,"a",14),t._UZ(19,"i",20),t._uU(20," Reload"),t.qZA()(),t.TgZ(21,"li",21),t.NdJ("click",function(){t.CHM(a);const p=t.oxw(2);return t.KtG(p.cardRemoveAction())}),t.TgZ(22,"a",14),t._UZ(23,"i",22),t._uU(24," Remove"),t.qZA()()()()()}if(2&i){const a=t.oxw(2);t.xp6(8),t.Q6J("ngClass",a.fullIcon),t.xp6(1),t.hij(" ","full-card"===a.cardClass?"Restore":"Maximize",""),t.xp6(4),t.Q6J("ngClass",a.collapsedIcon),t.xp6(1),t.hij(" ","collapsed"===a.collapsedCard?"Expand":"Collapse"," ")}}function e(i,g){1&i&&t.Hsn(0,1,["*ngIf","customHeader"])}function b(i,g){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,C,2,1,"h5",6),t.YNc(2,T,25,4,"div",7),t.YNc(3,e,1,0,"ng-content",6),t.qZA()),2&i){const a=t.oxw();t.Q6J("ngClass",a.headerClass),t.xp6(1),t.Q6J("ngIf",!a.customHeader),t.xp6(1),t.Q6J("ngIf",a.options&&!a.customHeader),t.xp6(1),t.Q6J("ngIf",a.customHeader)}}function x(i,g){1&i&&(t.TgZ(0,"div",23),t._UZ(1,"i",24),t.qZA())}const U=["*",[["",8,"app-card-header"]]],y=["*",".app-card-header"];let M=(()=>{class i{constructor(a){a.placement="bottom-right",this.customHeader=!1,this.options=!0,this.hidHeader=!1,this.cardTitle="Card Title",this.fullIcon="icon-maximize",this.isAnimating=!1,this.collapsedCard="expanded",this.collapsedIcon="icon-minus",this.loadCard=!1,this.cardRemove="open"}ngOnInit(){(!this.options||this.hidHeader||this.customHeader)&&(this.collapsedCard="false")}fullCardToggle(a,d,p){d="full-card"===this.cardClass?"zoomOut":"zoomIn",this.fullIcon="full-card"===this.cardClass?"icon-maximize":"icon-minimize",this.cardClass="full-card"===this.cardClass?this.cardClass:"full-card",p&&(this.animation=d),this.isAnimating=!0,setTimeout(()=>{this.cardClass="zoomOut"===d?"":this.cardClass,"full-card"===this.cardClass?document.querySelector("body").style.overflow="hidden":document.querySelector("body").removeAttribute("style")},500)}collapsedCardToggle(a){this.collapsedCard="collapsed"===this.collapsedCard?"expanded":"collapsed",this.collapsedIcon="collapsed"===this.collapsedCard?"icon-plus":"icon-minus"}cardRefresh(){this.loadCard=!0,this.cardClass="card-load",setTimeout(()=>{this.loadCard=!1,this.cardClass="expanded"},3e3)}cardRemoveAction(){this.cardRemove="closed"===this.cardRemove?"open":"closed"}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(c.jL))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-card"]],inputs:{cardTitle:"cardTitle",cardClass:"cardClass",blockClass:"blockClass",headerClass:"headerClass",options:"options",hidHeader:"hidHeader",customHeader:"customHeader"},features:[t._Bn([c.jL])],ngContentSelectors:y,decls:7,vars:6,consts:[[1,"card",3,"ngClass"],["toAnimate",""],["class","card-header",3,"ngClass",4,"ngIf"],[1,"card-block",3,"ngClass"],["class","card-loader",4,"ngIf"],[1,"card-header",3,"ngClass"],[4,"ngIf"],["class","card-header-right",4,"ngIf"],[1,"card-header-right"],["ngbDropdown","",1,"btn-group","card-option","dropdown"],["type","button","ngbDropdownToggle","",1,"btn","dropdown-toggle","btn-icon"],[1,"feather","icon-more-horizontal"],["ngbDropdownMenu","",1,"list-unstyled","card-option","dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","full-card",3,"click"],["href","javascript:"],[1,"feather",3,"ngClass"],[1,"dropdown-item","minimize-card",3,"click"],[2,"display","none"],[1,"feather","icon-plus"],[1,"dropdown-item","reload-card",3,"click"],[1,"feather","icon-refresh-cw"],[1,"dropdown-item","close-card",3,"click"],[1,"feather","icon-trash"],[1,"card-loader"],[1,"pct-loader1","anim-rotate"]],template:function(a,d){1&a&&(t.F$t(U),t.TgZ(0,"div",0,1),t.YNc(2,b,4,4,"div",2),t.TgZ(3,"div")(4,"div",3),t.Hsn(5),t.qZA()(),t.YNc(6,x,2,0,"div",4),t.qZA()),2&a&&(t.Q6J("ngClass",d.cardClass)("@cardRemove",d.cardRemove),t.xp6(2),t.Q6J("ngIf",!d.hidHeader),t.xp6(1),t.Q6J("@collapsedCard",d.collapsedCard),t.xp6(1),t.Q6J("ngClass",d.blockClass),t.xp6(2),t.Q6J("ngIf",d.loadCard))},dependencies:[h.mk,h.O5,c.jt,c.iD,c.Vi],styles:[".card.full-card[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;z-index:99999;border-radius:0;width:100vw!important;height:100vh!important}"],data:{animation:[(0,l.X$)("collapsedCard",[(0,l.SB)("collapsed, void",(0,l.oB)({overflow:"hidden",height:"0px"})),(0,l.SB)("expanded",(0,l.oB)({overflow:"hidden",height:l.l3})),(0,l.eR)("collapsed <=> expanded",[(0,l.jt)("400ms ease-in-out")])]),(0,l.X$)("cardRemove",[(0,l.SB)("open",(0,l.oB)({opacity:1})),(0,l.SB)("closed",(0,l.oB)({opacity:0,display:"none"})),(0,l.eR)("open <=> closed",(0,l.jt)("400ms"))])]}}),i})()}}]);